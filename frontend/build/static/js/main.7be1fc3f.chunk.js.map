{"version":3,"sources":["components/ProductivityStats/ProductivityStats.module.scss","components/MotionDetector/MotionDetector.js","components/MotionDetector/helper.js","components/ActivityGraph/ActivityGraph.js","components/ActivityLog/ActivityLog.js","components/DashboardElementHeader/DashboardElementHeader.js","components/ProductivityStats/IndexGraph/IndexGraph.js","components/ProductivityStats/ProductivityStats.js","components/TimeSchedule/TimeSchedule.js","serviceWorker.js","index.js","App.js","components/MotionDetector/MotionDetector.module.scss","components/ProductivityStats/IndexGraph/IndexGraph.module.scss","assets/svg/icon-meeting-formal.svg","components/TimeSchedule/TimeSchedule.module.scss","components/DashboardElementHeader/DashboardElementHeader.module.scss","assets/svg/icon-meeting-engaged.svg","assets/svg/icon-meeting-inactive.svg","App.module.scss"],"names":["module","exports","ProductivityStats","main","title","info","trends","indexStat","iconStat","MotionDetector","_ref","defaultWidth","defaultHeight","_ref$calcWidth","calcWidth","_ref$calcHeight","calcHeight","video","setScore","canvas","useRef","canvasMotion","useEffect","current","width","height","context","getContext","contextMotion","id","setInterval","globalCompositeOperation","drawImage","image","getImageData","ready","diffScore","rgba","data","score","i","length","pixelDiff","normalized","Math","min","processDiff","putImageData","clearInterval","react_default","a","createElement","className","styles","container","ref","hide","defaults","global","animation","ActivityGraph","_useState","useState","labels","datasets","label","borderColor","backgroundColor","_useState2","Object","slicedToArray","setData","prev","n","Date","getSeconds","shift","forEach","dataset","push","es","redraw","options","legend","display","tooltips","enabled","scales","scaleLabel","fontColor","yAxes","xAxes","ticks","maxTicksLimit","elements","point","radius","ActivityLog","messages","map","message","DashboardElementHeader","_ref$info","undefined","focus","defaultFontColor","IndexGraph","index","indexPercentage","parseFloat","rotation","PI","circumference","cutoutPercentage","console","log","currentState","activityIndex","stateActive","meetingname","icon","react","src","iconMeetingInactive","iconMeetingFormal","iconMeetingEngaged","TimeSchedule","time","setTime","timer","minutes","floor","seconds","percentage","spentTime","minutesSpent","secondsSpent","timeline","startendlabels","timestamp","progressBar","progress","style","left","Boolean","window","location","hostname","match","ReactDOM","render","setCurrentState","_useState3","_useState4","_useState5","_useState6","scoreLog","setScoreLog","_useState7","_useState8","setMessages","_useState9","_useState10","setActivityIndex","navigator","mediaDevices","getUserMedia","audio","then","success","srcObject","catch","error","overallScore","reduce","pv","cv","random","toFixed","wasThereAlreadyAStart","filter","indexOf","fetch","concat","toConsumableArray","BrowserRouter","motioncharts","videostream","videoContainer","autoPlay","motionstream","productivity","facedetection","timeschedule","activitylog","document","getElementById","serviceWorker","registration","unregister","__webpack_require__","p"],"mappings":"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","file":"static/js/main.7be1fc3f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProductivityStats\":\"ProductivityStats_ProductivityStats__16iDs\",\"main\":\"ProductivityStats_main__2ZeZw\",\"title\":\"ProductivityStats_title__2_T6r\",\"info\":\"ProductivityStats_info__Q84MU\",\"trends\":\"ProductivityStats_trends__3WvA-\",\"indexStat\":\"ProductivityStats_indexStat__249id\",\"iconStat\":\"ProductivityStats_iconStat__1rj_E\"};","import React, { useEffect, useRef } from \"react\";\nimport styles from \"./MotionDetector.module.scss\";\nimport { processDiff } from \"./helper.js\";\n\nexport default function({\n  defaultWidth = 640,\n  defaultHeight = 480,\n  calcWidth = 64,\n  calcHeight = 48,\n  video,\n  setScore\n}) {\n  const canvas = useRef(null);\n  const canvasMotion = useRef(null);\n\n  useEffect(() => {\n    if (!canvas.current) {\n      return false;\n    }\n    canvas.current.width = calcWidth;\n    canvas.current.height = calcHeight;\n    canvasMotion.current.width = calcWidth;\n    canvasMotion.current.height = calcHeight;\n\n    const context = canvas.current.getContext(\"2d\");\n    const contextMotion = canvasMotion.current.getContext(\"2d\");\n\n    const id = setInterval(() => {\n      context.globalCompositeOperation = \"difference\";\n      context.drawImage(video.current, 0, 0, calcWidth, calcHeight);\n      const image = context.getImageData(0, 0, calcWidth, calcHeight);\n\n      if (canvas.current.ready === true) {\n        const diffScore = processDiff(image);\n        setScore(diffScore);\n        contextMotion.putImageData(image, 0, 0);\n      }\n      context.globalCompositeOperation = \"source-over\";\n      context.drawImage(video.current, 0, 0, calcWidth, calcHeight);\n      canvas.current.ready = true;\n    }, 100);\n\n    return () => {\n      clearInterval(id);\n    };\n  }, []);\n\n  return (\n    <div className={styles.container}>\n      <canvas ref={canvasMotion} />\n      <canvas className={styles.hide} ref={canvas} />\n    </div>\n  );\n}\n","export function processDiff(image) {\n  var rgba = image.data;\n\n  // pixel adjustments are done by reference directly on diffImageData\n  var score = 0;\n  for (var i = 0; i < rgba.length; i += 4) {\n    var pixelDiff = rgba[i] * 0.3 + rgba[i + 1] * 0.6 + rgba[i + 2] * 0.1;\n    var normalized = Math.min(255, pixelDiff * (255 / 32));\n    rgba[i] = 0;\n    rgba[i + 1] = normalized;\n    rgba[i + 2] = 0;\n\n    if (pixelDiff >= 32) {\n      score++;\n    }\n  }\n\n  return score;\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Line, defaults } from \"react-chartjs-2\";\n\n// Disable animating charts by default.\ndefaults.global.animation = false;\n\nexport default function({ score }) {\n  const options = {\n    animation: false,\n    legend: {\n        display: false\n    },\n    tooltips: {\n        enabled: false\n    },\n    scales:{\n      scaleLabel: [{\n        fontColor: '#8DD4FF',\n      }],\n      yAxes: [{\n          display: false //this will remove all the x-axis grid lines\n      }],\n      xAxes: [{\n        ticks: { \n          maxTicksLimit: 6,\n         }\n      }],\n    },\n    elements: { point: { radius: 0 } },\n}\n  const [data, setData] = useState({\n    labels: [],\n    datasets: [{ data: [], \n      label: \"Activity Monitor\",\n      borderColor : '#8DD4FF',\n      backgroundColor: [\n      \"rgba(18, 47, 65, .8)\"\n      ], }],\n    \n  });\n\n  useEffect(() => {\n    setData(prev => {\n      const d = new Date();\n      const n = d.getSeconds();\n\n      if (prev.labels.length === 60) {\n        // remove\n        prev.labels.shift();\n        prev.datasets.forEach(dataset => {\n          dataset.data.shift();\n        });\n      }\n\n      // add\n      prev.labels.push(n);\n      prev.datasets.forEach(dataset => {\n        dataset.data.push(score);\n      });\n      return prev;\n    });\n  }, [score]);\n\n  return <Line data={data} redraw={true} options={options}/>;\n}\n","import React from \"react\";\n\nexport default function({ messages }) {\n  if (messages.length === 0) {\n    return <p>No Entries yet.</p>;\n  }\n\n  return (\n    <ul>\n      {messages.map(message => (\n        <li>{message}</li>\n      ))}\n    </ul>\n  );\n}\n","import React from \"react\";\nimport styles from \"./DashboardElementHeader.module.scss\";\n\nexport default function({title,info = undefined}) {\n  return (\n    <div>\n        <h2>{title} {info !== undefined ? <span className={styles.focus}>{info}</span> : \"\"}</h2>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport styles from \"./IndexGraph.module.scss\";\nimport { Doughnut, defaults } from \"react-chartjs-2\";\n\ndefaults.global.defaultFontColor='#3F93C6';\nexport default function({index}) {\n    var indexPercentage = parseFloat(index) * 10;\n    \n    const options = {\n        animation: false,\n        legend: {\n            display: false\n         },\n         tooltips: {\n            enabled: false\n         },\n        rotation: -1.1 * Math.PI,\n        circumference: Math.PI * 1.2,\n        cutoutPercentage: 80,\n    }\n    \n    const [data, setData] = useState({\n        datasets: [{\n            data: [\n                0,100\n            ],\n            borderColor : 'transparent',\n            backgroundColor: [\n            \"#8DD4FF\",\n            \"#122F41\",\n            ],\n            label: 'Dataset 1'\n        }],\n        labels: [\n            'Red',\n            'Orange',\n            'Yellow',\n            'Green',\n            'Blue'\n        ]\n    });\n\n    useEffect(()=>{\n        console.log(indexPercentage);\n        setData(prev => {\n            prev.datasets[0].data = [indexPercentage, 100-indexPercentage];\n            return prev;\n        });\n    }, [index]);\n\n    return (\n        <div className={styles.IndexGraph}>\n            <Doughnut data={data} options={options}  redraw={true} />\n            <div className={styles.label}>{index}</div>\n        </div>\n    );\n}\n","import React, { Fragment } from \"react\";\nimport styles from \"./ProductivityStats.module.scss\";\nimport DashboardElementHeader from \"../DashboardElementHeader/DashboardElementHeader\";\nimport ActivityGraph from \"../ActivityGraph/ActivityGraph\";\nimport IndexGraph from \"./IndexGraph/IndexGraph\";\nimport iconMeetingEngaged from \"../../assets/svg/icon-meeting-engaged.svg\";\nimport iconMeetingFormal from \"../../assets/svg/icon-meeting-formal.svg\";\nimport iconMeetingInactive from \"../../assets/svg/icon-meeting-inactive.svg\";\n\nexport default function({ index, currentState, activityIndex }) {\n  const stateActive = (meetingname, icon) => (\n    <Fragment>\n      <img src={icon} />\n      <div className={styles.label}>\n        <h4>Current Meeting Type:</h4>\n        <p>{meetingname}</p>\n      </div>\n    </Fragment>\n  );\n\n  return (\n    <div className={styles.ProductivityStats}>\n      <div className={styles.title}>\n        <DashboardElementHeader title=\"Meeting productivity\" info=\"high\" />\n      </div>\n\n      <div className={styles.main}>\n        <div className={styles.indexStat}>\n          <IndexGraph index={index} />\n          <p>Meeting Productivity Index</p>\n        </div>\n      </div>\n\n      <div className={styles.info}>\n        <div className={styles.iconStat} id=\"meeting-type\">\n          {currentState === \"quiet\" &&\n            stateActive(\"No meeting active\", iconMeetingInactive)}\n          {currentState === \"started\" &&\n            stateActive(\"Meeting started\", iconMeetingFormal)}\n          {currentState === \"normal\" &&\n            stateActive(\"Formal Meeting\", iconMeetingFormal)}\n          {currentState === \"active\" &&\n            stateActive(\"Engaged Meeting\", iconMeetingEngaged)}\n        </div>\n      </div>\n      <div className={styles.trends}>\n        <DashboardElementHeader title=\"Trends\" />\n        <ActivityGraph score={activityIndex} />\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport styles from \"./TimeSchedule.module.scss\";\n\nexport default function() {\n  const [time, setTime] = useState(150);\n\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setTime(prev => (prev = prev <= 0 ? 0 : prev - 1));\n    }, 1000);\n\n    return () => {\n      clearInterval(timer);\n    };\n  }, []);\n\n  var minutes = \"0\" + Math.floor(time / 60);\n  let seconds = time - minutes * 60;\n  seconds = seconds < 10 ? \"0\" + seconds : seconds;\n\n  const percentage = (100 / 150) * (150 - time);\n\n  const spentTime = 150 - time;\n  var minutesSpent = \"0\" + Math.floor(spentTime / 60);\n  var secondsSpent = spentTime - minutesSpent * 60;\n  secondsSpent = secondsSpent < 10 ? \"0\" + secondsSpent : secondsSpent;\n\n  return (\n    <div className={styles.TimeSchedule}>\n      <h1>\n        {minutes}:{seconds}\n      </h1>\n\n      <div className={styles.timeline}>\n        <div className={styles.startendlabels}>\n          <div className={styles.label}>\n            <p>START</p>\n            <p className={styles.timestamp}>00:00</p>\n          </div>\n          <div className={styles.label}>\n            <p>END</p>\n            <p className={styles.timestamp}>02:30</p>\n          </div>\n        </div>\n        <div className={styles.progressBar}>\n          <div\n            className={styles.progress}\n            style={{ width: percentage + \"%\" }}\n          />\n          <div\n            className={styles.label}\n            style={{ left: \"calc(\" + percentage + \"% - 20px)\" }}\n          >\n            <p className={styles.timestamp}>\n              {minutesSpent}:{secondsSpent}\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React, { useRef, useState, useEffect } from \"react\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nimport MotionDetector from \"./components/MotionDetector/MotionDetector\";\nimport ActivityGraph from \"./components/ActivityGraph/ActivityGraph\";\nimport ActivityLog from \"./components/ActivityLog/ActivityLog\";\nimport ProductivityStats from \"./components/ProductivityStats/ProductivityStats\";\nimport TimeSchedule from \"./components/TimeSchedule/TimeSchedule\";\nimport DashboardElementHeader from \"./components/DashboardElementHeader/DashboardElementHeader\";\nimport styles from \"./App.module.scss\";\n\nexport default function() {\n  const video = useRef(undefined);\n  const [currentState, setCurrentState] = useState(\"quiet\");\n  const [score, setScore] = useState(0);\n  const [scoreLog, setScoreLog] = useState([]);\n  const [messages, setMessages] = useState([]);\n  const [activityIndex, setActivityIndex] = useState(0);\n\n  // connect the webcam with the video element\n  useEffect(() => {\n    var constraints = {\n      audio: false,\n      video: { width: 640, height: 480 }\n    };\n    navigator.mediaDevices\n      .getUserMedia(constraints)\n      .then(success => {\n        video.current.srcObject = success;\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }, [video.current]);\n\n  // analyze and summeraize the score\n  useEffect(() => {\n    // set the score\n    setScoreLog(prev => {\n      // make sure only the last 100 are saved\n      if (prev.length === 100) {\n        prev.shift();\n      }\n      // add latest\n      prev.push(score);\n      return prev;\n    });\n\n    // analyze Entries\n    const overallScore = scoreLog.reduce((pv, cv) => pv + cv, 0);\n\n    // ~2000 quiet\n    // ~5000 normal\n    // ~10000 active\n    if (overallScore <= 2000) {\n      if (currentState !== \"quiet\") {\n        setCurrentState(\"quiet\");\n        setActivityIndex(parseFloat(1 + Math.random()).toFixed(2));\n      }\n    }\n\n    if (overallScore > 2000 && overallScore <= 4000) {\n      const wasThereAlreadyAStart = messages.filter(message => {\n        return message.indexOf(\"Meeting started\") > -1;\n      }).length;\n\n      if (currentState !== \"started\" && !wasThereAlreadyAStart) {\n        setCurrentState(\"started\");\n        setActivityIndex(parseFloat(1 + Math.random()).toFixed(2));\n\n        fetch(\"htpp://192.168.2.2:5000/blinds/meeting/start\")\n          .then(function() {\n            console.log(\"ok\");\n          })\n          .catch(function() {\n            console.log(\"error\");\n          });\n      }\n    }\n\n    if (overallScore > 4000 && overallScore <= 7000) {\n      if (currentState !== \"normal\") {\n        setCurrentState(\"normal\");\n        setActivityIndex(parseFloat(5 + Math.random()).toFixed(2));\n        setMessages(prev => [\"Meeting turned formal\", ...prev]);\n\n        fetch(\"http://192.168.2.2:5000/blinds/meeting/formal\")\n          .then(function() {\n            console.log(\"ok\");\n          })\n          .catch(function() {\n            console.log(\"error\");\n          });\n      }\n    }\n    if (overallScore > 20000) {\n      if (currentState !== \"active\") {\n        setCurrentState(\"active\");\n        setActivityIndex(parseFloat(8 + Math.random()).toFixed(2));\n        setMessages(prev => [\"Meeting turned engaged\", ...prev]);\n\n        fetch(\"htpp://192.168.2.2:5000/blinds/meeting/end\")\n          .then(function() {\n            console.log(\"ok\");\n          })\n          .catch(function() {\n            console.log(\"error\");\n          });\n      }\n    }\n    // activity index steps\n    if (overallScore <= 50000) {\n      setActivityIndex(parseFloat(overallScore / 6000).toFixed(2));\n    }\n    if (overallScore > 50000) {\n      setActivityIndex(parseFloat(8 + Math.random()).toFixed(2));\n    }\n  }, [score]);\n\n  return (\n    <Router>\n      <div className={styles.container}>\n        <div className={styles.motioncharts}>\n          <DashboardElementHeader title=\"Motion charts\" info={score} />\n          <ActivityGraph score={score} />\n        </div>\n\n        <div className={styles.videostream}>\n          <DashboardElementHeader title=\"Video stream\" info=\"live\" />\n          <div className={styles.videoContainer}>\n            <video ref={video} autoPlay />\n          </div>\n        </div>\n\n        <div className={styles.motionstream}>\n          <DashboardElementHeader title=\"Motion detection\" info=\"live\" />\n          <MotionDetector setScore={setScore} video={video} />\n        </div>\n\n        <div className={styles.productivity}>\n          <ProductivityStats\n            index={activityIndex}\n            currentState={currentState}\n            activityIndex={activityIndex}\n          />\n        </div>\n\n        <div className={styles.facedetection} />\n\n        <div className={styles.timeschedule}>\n          <h2>Timeschedule</h2>\n          <TimeSchedule />\n        </div>\n\n        <div className={styles.activitylog}>\n          <DashboardElementHeader title=\"Activity log\" info=\"12:43\" />\n          <ActivityLog messages={messages} />\n        </div>\n      </div>\n    </Router>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MotionDetector_container__2F9SI\",\"hide\":\"MotionDetector_hide__GdL7B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"IndexGraph\":\"IndexGraph_IndexGraph__2DGG8\",\"label\":\"IndexGraph_label__glnsD\"};","module.exports = __webpack_public_path__ + \"static/media/icon-meeting-formal.f2b175bc.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TimeSchedule\":\"TimeSchedule_TimeSchedule__1DXKu\",\"timestamp\":\"TimeSchedule_timestamp__3X5_P\",\"startendlabels\":\"TimeSchedule_startendlabels__3PWbv\",\"label\":\"TimeSchedule_label__2ukr0\",\"progressBar\":\"TimeSchedule_progressBar__2cv-Y\",\"progress\":\"TimeSchedule_progress__1khRs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"focus\":\"DashboardElementHeader_focus__2D8ly\"};","module.exports = __webpack_public_path__ + \"static/media/icon-meeting-engaged.abc2e609.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-meeting-inactive.0af465dc.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__3Q3C8\",\"motioncharts\":\"App_motioncharts__1PHMW\",\"videostream\":\"App_videostream__21OAi\",\"motionstream\":\"App_motionstream__3RZAq\",\"productivity\":\"App_productivity__DWWuJ\",\"facedetection\":\"App_facedetection__10F2v\",\"timeschedule\":\"App_timeschedule__2hW_N\",\"activitylog\":\"App_activitylog__cxv8r\",\"videoContainer\":\"App_videoContainer__3GFim\"};"],"sourceRoot":""}