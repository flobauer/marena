(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports={ProductivityStats:"ProductivityStats_ProductivityStats__16iDs",main:"ProductivityStats_main__2ZeZw",title:"ProductivityStats_title__2_T6r",info:"ProductivityStats_info__Q84MU",trends:"ProductivityStats_trends__3WvA-",indexStat:"ProductivityStats_indexStat__249id",iconStat:"ProductivityStats_iconStat__1rj_E"}},227:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(70),i=a.n(c),o=a(46),l=a(5),s=a(229),d=a(43),m=a.n(d);var u=function(e){e.defaultWidth,e.defaultHeight;var t=e.calcWidth,a=void 0===t?64:t,c=e.calcHeight,i=void 0===c?48:c,o=e.video,l=e.setScore,s=Object(n.useRef)(null),d=Object(n.useRef)(null);return Object(n.useEffect)(function(){if(!s.current)return!1;s.current.width=a,s.current.height=i,d.current.width=a,d.current.height=i;var e=s.current.getContext("2d"),t=d.current.getContext("2d"),n=setInterval(function(){e.globalCompositeOperation="difference",e.drawImage(o.current,0,0,a,i);var n=e.getImageData(0,0,a,i);if(!0===s.current.ready){var r=function(e){for(var t=e.data,a=0,n=0;n<t.length;n+=4){var r=.3*t[n]+.6*t[n+1]+.1*t[n+2],c=Math.min(255,r*(255/32));t[n]=0,t[n+1]=c,t[n+2]=0,r>=32&&a++}return a}(n);l(r),t.putImageData(n,0,0)}e.globalCompositeOperation="source-over",e.drawImage(o.current,0,0,a,i),s.current.ready=!0},100);return function(){clearInterval(n)}},[]),r.a.createElement("div",{className:m.a.container},r.a.createElement("canvas",{ref:d}),r.a.createElement("canvas",{className:m.a.hide,ref:s}))},v=a(16);v.c.global.animation=!1;var f=function(e){var t=e.score,a=Object(n.useState)({labels:[],datasets:[{data:[],label:"Activity Monitor",borderColor:"#8DD4FF",backgroundColor:["rgba(18, 47, 65, .8)"]}]}),c=Object(l.a)(a,2),i=c[0],o=c[1];return Object(n.useEffect)(function(){o(function(e){var a=(new Date).getSeconds();return 60===e.labels.length&&(e.labels.shift(),e.datasets.forEach(function(e){e.data.shift()})),e.labels.push(a),e.datasets.forEach(function(e){e.data.push(t)}),e})},[t]),r.a.createElement(v.b,{data:i,redraw:!0,options:{animation:!1,legend:{display:!1},tooltips:{enabled:!1},scales:{scaleLabel:[{fontColor:"#8DD4FF"}],yAxes:[{display:!1}],xAxes:[{ticks:{maxTicksLimit:6}}]},elements:{point:{radius:0}}}})},p=function(e){var t=e.messages;return 0===t.length?r.a.createElement("p",null,"No Entries yet."):r.a.createElement("ul",null,t.map(function(e){return r.a.createElement("li",null,e)}))},h=a(11),g=a.n(h),_=a(72),E=a.n(_),b=function(e){var t=e.title,a=e.info,n=void 0===a?void 0:a;return r.a.createElement("div",null,r.a.createElement("h2",null,t," ",void 0!==n?r.a.createElement("span",{className:E.a.focus},n):""))},x=a(44),S=a.n(x);v.c.global.defaultFontColor="#3F93C6";var y=function(e){var t=e.index,a=10*parseFloat(t),c={animation:!1,legend:{display:!1},tooltips:{enabled:!1},rotation:-1.1*Math.PI,circumference:1.2*Math.PI,cutoutPercentage:80},i=Object(n.useState)({datasets:[{data:[0,100],borderColor:"transparent",backgroundColor:["#8DD4FF","#122F41"],label:"Dataset 1"}],labels:["Red","Orange","Yellow","Green","Blue"]}),o=Object(l.a)(i,2),s=o[0],d=o[1];return Object(n.useEffect)(function(){console.log(a),d(function(e){return e.datasets[0].data=[a,100-a],e})},[t]),r.a.createElement("div",{className:S.a.IndexGraph},r.a.createElement(v.a,{data:s,options:c,redraw:!0}),r.a.createElement("div",{className:S.a.label},t))},N=a(73),O=a.n(N),j=a(45),F=a.n(j),M=a(74),w=a.n(M),D=function(e){var t=e.index,a=e.currentState,c=e.activityIndex,i=function(e,t){return r.a.createElement(n.Fragment,null,r.a.createElement("img",{src:t}),r.a.createElement("div",{className:g.a.label},r.a.createElement("h4",null,"Current Meeting Type:"),r.a.createElement("p",null,e)))};return r.a.createElement("div",{className:g.a.ProductivityStats},r.a.createElement("div",{className:g.a.title},r.a.createElement(b,{title:"Meeting productivity",info:"high"})),r.a.createElement("div",{className:g.a.main},r.a.createElement("div",{className:g.a.indexStat},r.a.createElement(y,{index:t}),r.a.createElement("p",null,"Meeting Productivity Index"))),r.a.createElement("div",{className:g.a.info},r.a.createElement("div",{className:g.a.iconStat,id:"meeting-type"},"quiet"===a&&i("No meeting active",w.a),"started"===a&&i("Meeting started",F.a),"normal"===a&&i("Formal Meeting",F.a),"active"===a&&i("Engaged Meeting",O.a))),r.a.createElement("div",{className:g.a.trends},r.a.createElement(b,{title:"Trends"}),r.a.createElement(f,{score:c})))},I=a(6),P=a.n(I),A=function(){var e=Object(n.useState)(150),t=Object(l.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)(function(){var e=setInterval(function(){c(function(e){return e<=0?0:e-1})},1e3);return function(){clearInterval(e)}},[]);var i="0"+Math.floor(a/60),o=a-60*i;o=o<10?"0"+o:o;var s=100/150*(150-a),d=150-a,m="0"+Math.floor(d/60),u=d-60*m;return u=u<10?"0"+u:u,r.a.createElement("div",{className:P.a.TimeSchedule},r.a.createElement("h1",null,i,":",o),r.a.createElement("div",{className:P.a.timeline},r.a.createElement("div",{className:P.a.startendlabels},r.a.createElement("div",{className:P.a.label},r.a.createElement("p",null,"START"),r.a.createElement("p",{className:P.a.timestamp},"00:00")),r.a.createElement("div",{className:P.a.label},r.a.createElement("p",null,"END"),r.a.createElement("p",{className:P.a.timestamp},"02:30"))),r.a.createElement("div",{className:P.a.progressBar},r.a.createElement("div",{className:P.a.progress,style:{width:s+"%"}}),r.a.createElement("div",{className:P.a.label,style:{left:"calc("+s+"% - 20px)"}},r.a.createElement("p",{className:P.a.timestamp},m,":",u)))))},C=a(8),T=a.n(C);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(function(){var e=Object(n.useRef)(void 0),t=Object(n.useState)("quiet"),a=Object(l.a)(t,2),c=a[0],i=a[1],d=Object(n.useState)(0),m=Object(l.a)(d,2),v=m[0],h=m[1],g=Object(n.useState)([]),_=Object(l.a)(g,2),E=_[0],x=_[1],S=Object(n.useState)([]),y=Object(l.a)(S,2),N=y[0],O=y[1],j=Object(n.useState)(0),F=Object(l.a)(j,2),M=F[0],w=F[1];return Object(n.useEffect)(function(){navigator.mediaDevices.getUserMedia({audio:!1,video:{width:640,height:480}}).then(function(t){e.current.srcObject=t}).catch(function(e){console.log(e)})},[e.current]),Object(n.useEffect)(function(){x(function(e){return 100===e.length&&e.shift(),e.push(v),e});var e=E.reduce(function(e,t){return e+t},0);if(e<=2e3&&"quiet"!==c&&(i("quiet"),w(parseFloat(1+Math.random()).toFixed(2))),e>2e3&&e<=4e3){var t=N.filter(function(e){return e.indexOf("Meeting started")>-1}).length;"started"===c||t||(i("started"),w(parseFloat(1+Math.random()).toFixed(2)),fetch("htpp://192.168.2.2:5000/blinds/meeting/start").then(function(){console.log("ok")}).catch(function(){console.log("error")}))}e>4e3&&e<=7e3&&"normal"!==c&&(i("normal"),w(parseFloat(5+Math.random()).toFixed(2)),O(function(e){return["Meeting turned formal"].concat(Object(o.a)(e))}),fetch("http://192.168.2.2:5000/blinds/meeting/formal").then(function(){console.log("ok")}).catch(function(){console.log("error")})),e>2e4&&"active"!==c&&(i("active"),w(parseFloat(8+Math.random()).toFixed(2)),O(function(e){return["Meeting turned engaged"].concat(Object(o.a)(e))}),fetch("htpp://192.168.2.2:5000/blinds/meeting/end").then(function(){console.log("ok")}).catch(function(){console.log("error")})),e<=5e4&&w(parseFloat(e/6e3).toFixed(2)),e>5e4&&w(parseFloat(8+Math.random()).toFixed(2))},[v]),r.a.createElement(s.a,null,r.a.createElement("div",{className:T.a.container},r.a.createElement("div",{className:T.a.motioncharts},r.a.createElement(b,{title:"Motion charts",info:v}),r.a.createElement(f,{score:v})),r.a.createElement("div",{className:T.a.videostream},r.a.createElement(b,{title:"Video stream",info:"live"}),r.a.createElement("div",{className:T.a.videoContainer},r.a.createElement("video",{ref:e,autoPlay:!0}))),r.a.createElement("div",{className:T.a.motionstream},r.a.createElement(b,{title:"Motion detection",info:"live"}),r.a.createElement(u,{setScore:h,video:e})),r.a.createElement("div",{className:T.a.productivity},r.a.createElement(D,{index:M,currentState:c,activityIndex:M})),r.a.createElement("div",{className:T.a.facedetection}),r.a.createElement("div",{className:T.a.timeschedule},r.a.createElement("h2",null,"Timeschedule"),r.a.createElement(A,null)),r.a.createElement("div",{className:T.a.activitylog},r.a.createElement(b,{title:"Activity log",info:"12:43"}),r.a.createElement(p,{messages:N}))))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},43:function(e,t,a){e.exports={container:"MotionDetector_container__2F9SI",hide:"MotionDetector_hide__GdL7B"}},44:function(e,t,a){e.exports={IndexGraph:"IndexGraph_IndexGraph__2DGG8",label:"IndexGraph_label__glnsD"}},45:function(e,t,a){e.exports=a.p+"static/media/icon-meeting-formal.f2b175bc.svg"},6:function(e,t,a){e.exports={TimeSchedule:"TimeSchedule_TimeSchedule__1DXKu",timestamp:"TimeSchedule_timestamp__3X5_P",startendlabels:"TimeSchedule_startendlabels__3PWbv",label:"TimeSchedule_label__2ukr0",progressBar:"TimeSchedule_progressBar__2cv-Y",progress:"TimeSchedule_progress__1khRs"}},72:function(e,t,a){e.exports={focus:"DashboardElementHeader_focus__2D8ly"}},73:function(e,t,a){e.exports=a.p+"static/media/icon-meeting-engaged.abc2e609.svg"},74:function(e,t,a){e.exports=a.p+"static/media/icon-meeting-inactive.0af465dc.svg"},75:function(e,t,a){e.exports=a(227)},8:function(e,t,a){e.exports={container:"App_container__3Q3C8",motioncharts:"App_motioncharts__1PHMW",videostream:"App_videostream__21OAi",motionstream:"App_motionstream__3RZAq",productivity:"App_productivity__DWWuJ",facedetection:"App_facedetection__10F2v",timeschedule:"App_timeschedule__2hW_N",activitylog:"App_activitylog__cxv8r",videoContainer:"App_videoContainer__3GFim"}}},[[75,2,1]]]);
//# sourceMappingURL=main.7be1fc3f.chunk.js.map