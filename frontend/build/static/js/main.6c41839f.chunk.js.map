{"version":3,"sources":["App.module.scss","components/MotionDetector/MotionDetector.js","components/MotionDetector/helper.js","components/ActivityGraph/ActivityGraph.js","components/ActivityLog/ActivityLog.js","components/DashboardElementHeader/DashboardElementHeader.js","components/ProductivityStats/IndexGraph/IndexGraph.js","components/ProductivityStats/ProductivityStats.js","components/TimeSchedule/TimeSchedule.js","serviceWorker.js","index.js","App.js","components/MotionDetector/MotionDetector.module.scss","components/ProductivityStats/IndexGraph/IndexGraph.module.scss","assets/svg/icon-meeting-formal.svg","components/TimeSchedule/TimeSchedule.module.scss","components/ActivityLog/ActivityLog.module.scss","components/DashboardElementHeader/DashboardElementHeader.module.scss","assets/svg/icon-meeting-engaged.svg","assets/svg/icon-meeting-inactive.svg","components/ProductivityStats/ProductivityStats.module.scss"],"names":["module","exports","container","motioncharts","videostream","motionstream","productivity","timeschedule","activitylog","videoContainer","MotionDetector","_ref","defaultWidth","defaultHeight","_ref$calcWidth","calcWidth","_ref$calcHeight","calcHeight","video","setScore","canvas","useRef","canvasMotion","useEffect","current","width","height","context","getContext","contextMotion","id","setInterval","globalCompositeOperation","drawImage","image","getImageData","ready","diffScore","rgba","data","score","i","length","pixelDiff","normalized","Math","min","processDiff","putImageData","clearInterval","react_default","a","createElement","className","styles","ref","hide","defaults","global","animation","ActivityGraph","shifting","globalTrend","_useState","useState","labels","datasets","label","borderColor","backgroundColor","_useState2","Object","slicedToArray","setData","prev","n","Date","getSeconds","shift","forEach","dataset","push","es","redraw","options","legend","display","tooltips","enabled","scales","scaleLabel","fontColor","yAxes","xAxes","ticks","maxTicksLimit","elements","point","radius","ActivityLog","messages","map","message","key","random","DashboardElementHeader","title","_ref$info","info","undefined","focus","defaultFontColor","IndexGraph","index","indexPercentage","parseFloat","rotation","PI","circumference","cutoutPercentage","ProductivityStats","currentState","activityIndex","stateActive","meetingname","icon","react","src","alt","main","indexStat","iconStat","iconMeetingInactive","iconMeetingFormal","iconMeetingEngaged","trends","TimeSchedule","time","setTime","timer","minutes","floor","seconds","percentage","spentTime","minutesSpent","secondsSpent","timeline","startendlabels","timestamp","progressBar","progress","style","left","Boolean","window","location","hostname","match","ReactDOM","render","setCurrentState","_useState3","_useState4","_useState5","_useState6","scoreLog","setScoreLog","_useState7","_useState8","setMessages","_useState9","_useState10","setActivityIndex","brain_api","name","RegExp","encodeURIComponent","exec","search","decodeURIComponent","get","navigator","mediaDevices","getUserMedia","audio","then","success","srcObject","catch","error","console","log","overallScore","reduce","pv","cv","concat","toConsumableArray","fetch","toFixed","autoPlay","document","getElementById","serviceWorker","registration","unregister","__webpack_require__","p"],"mappings":"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","file":"static/js/main.6c41839f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__3Q3C8\",\"motioncharts\":\"App_motioncharts__1PHMW\",\"videostream\":\"App_videostream__21OAi\",\"motionstream\":\"App_motionstream__3RZAq\",\"productivity\":\"App_productivity__DWWuJ\",\"timeschedule\":\"App_timeschedule__2hW_N\",\"activitylog\":\"App_activitylog__cxv8r\",\"videoContainer\":\"App_videoContainer__3GFim\"};","import React, { useEffect, useRef } from \"react\";\nimport styles from \"./MotionDetector.module.scss\";\nimport { processDiff } from \"./helper.js\";\n\nexport default function({\n  defaultWidth = 640,\n  defaultHeight = 480,\n  calcWidth = 64,\n  calcHeight = 48,\n  video,\n  setScore\n}) {\n  const canvas = useRef(null);\n  const canvasMotion = useRef(null);\n\n  useEffect(() => {\n    if (!canvas.current) {\n      return false;\n    }\n    canvas.current.width = calcWidth;\n    canvas.current.height = calcHeight;\n    canvasMotion.current.width = calcWidth;\n    canvasMotion.current.height = calcHeight;\n\n    const context = canvas.current.getContext(\"2d\");\n    const contextMotion = canvasMotion.current.getContext(\"2d\");\n\n    const id = setInterval(() => {\n      context.globalCompositeOperation = \"difference\";\n      context.drawImage(video.current, 0, 0, calcWidth, calcHeight);\n      const image = context.getImageData(0, 0, calcWidth, calcHeight);\n\n      if (canvas.current.ready === true) {\n        const diffScore = processDiff(image);\n        setScore(diffScore);\n        contextMotion.putImageData(image, 0, 0);\n      }\n      context.globalCompositeOperation = \"source-over\";\n      context.drawImage(video.current, 0, 0, calcWidth, calcHeight);\n      canvas.current.ready = true;\n    }, 100);\n\n    return () => {\n      clearInterval(id);\n    };\n  }, []);\n\n  return (\n    <div className={styles.container}>\n      <canvas ref={canvasMotion} />\n      <canvas className={styles.hide} ref={canvas} />\n    </div>\n  );\n}\n","export function processDiff(image) {\n  var rgba = image.data;\n\n  // pixel adjustments are done by reference directly on diffImageData\n  var score = 0;\n  for (var i = 0; i < rgba.length; i += 4) {\n    var pixelDiff = rgba[i] * 0.3 + rgba[i + 1] * 0.6 + rgba[i + 2] * 0.1;\n    var normalized = Math.min(255, pixelDiff * (255 / 32));\n    rgba[i] = 0;\n    rgba[i + 1] = normalized;\n    rgba[i + 2] = 0;\n\n    if (pixelDiff >= 32) {\n      score++;\n    }\n  }\n\n  return score;\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Line, defaults } from \"react-chartjs-2\";\n\n// Disable animating charts by default.\ndefaults.global.animation = false;\n\nexport default function({ score, globalTrend }) {\n  var shifting = !globalTrend;\n  const options = {\n    animation: false,\n    legend: {\n      display: false\n    },\n    tooltips: {\n      enabled: false\n    },\n    scales: {\n      scaleLabel: [\n        {\n          fontColor: \"#8DD4FF\"\n        }\n      ],\n      yAxes: [\n        {\n          display: false //this will remove all the x-axis grid lines\n        }\n      ],\n      xAxes: [\n        {\n          ticks: {\n            maxTicksLimit: 6\n          }\n        }\n      ]\n    },\n    elements: { point: { radius: 0 } }\n  };\n  const [data, setData] = useState({\n    labels: [],\n    datasets: [\n      {\n        data: [],\n        label: \"Activity Monitor\",\n        borderColor: \"#8DD4FF\",\n        backgroundColor: [\"rgba(18, 47, 65, .8)\"]\n      }\n    ]\n  });\n\n  useEffect(() => {\n    setData(prev => {\n      const d = new Date();\n      const n = d.getSeconds();\n      if (prev.labels.length === 40 && shifting) {\n        // remove\n        prev.labels.shift();\n        prev.datasets.forEach(dataset => {\n          dataset.data.shift();\n        });\n      }\n\n      // add\n      prev.labels.push(n);\n      prev.datasets.forEach(dataset => {\n        dataset.data.push(score);\n      });\n      return prev;\n    });\n  }, [score]);\n\n  return <Line data={data} redraw={true} options={options} />;\n}\n","import React from \"react\";\nimport styles from \"./ActivityLog.module.scss\";\n\nexport default function({ messages }) {\n  if (messages.length === 0) {\n    return <p>No Entries yet.</p>;\n  }\n\n  return (\n    <ul className={styles.ActivityLog}>\n      {messages.map(message => (\n        <li key={Math.random()}>{message}</li>\n      ))}\n    </ul>\n  );\n}\n","import React from \"react\";\nimport styles from \"./DashboardElementHeader.module.scss\";\n\nexport default function({title,info = undefined}) {\n  return (\n    <div>\n        <h2>{title} {info !== undefined ? <span className={styles.focus}>{info}</span> : \"\"}</h2>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport styles from \"./IndexGraph.module.scss\";\nimport { Doughnut, defaults } from \"react-chartjs-2\";\n\ndefaults.global.defaultFontColor='#3F93C6';\nexport default function({index}) {\n    var indexPercentage = parseFloat(index) * 10;\n    \n    const options = {\n        animation: false,\n        legend: {\n            display: false\n         },\n         tooltips: {\n            enabled: false\n         },\n        rotation: -1.1 * Math.PI,\n        circumference: Math.PI * 1.2,\n        cutoutPercentage: 80,\n    }\n    \n    const [data, setData] = useState({\n        datasets: [{\n            data: [\n                0,100\n            ],\n            borderColor : 'transparent',\n            backgroundColor: [\n            \"#8DD4FF\",\n            \"#122F41\",\n            ],\n            label: 'Dataset 1'\n        }],\n        labels: [\n            'Red',\n            'Orange',\n            'Yellow',\n            'Green',\n            'Blue'\n        ]\n    });\n\n    useEffect(()=>{\n        setData(prev => {\n            prev.datasets[0].data = [indexPercentage, 100-indexPercentage];\n            return prev;\n        });\n    }, [index]);\n\n    return (\n        <div className={styles.IndexGraph}>\n            <Doughnut data={data} options={options}  redraw={true} />\n            <div className={styles.label}>{index}</div>\n        </div>\n    );\n}\n","import React, { Fragment } from \"react\";\nimport styles from \"./ProductivityStats.module.scss\";\nimport DashboardElementHeader from \"../DashboardElementHeader/DashboardElementHeader\";\nimport ActivityGraph from \"../ActivityGraph/ActivityGraph\";\nimport IndexGraph from \"./IndexGraph/IndexGraph\";\nimport iconMeetingEngaged from \"../../assets/svg/icon-meeting-engaged.svg\";\nimport iconMeetingFormal from \"../../assets/svg/icon-meeting-formal.svg\";\nimport iconMeetingInactive from \"../../assets/svg/icon-meeting-inactive.svg\";\n\nexport default function({ index, currentState, activityIndex }) {\n  const stateActive = (meetingname, icon) => (\n    <Fragment>\n      <img src={icon} alt={meetingname} />\n      <div className={styles.label}>\n        <h4>Current Meeting Type:</h4>\n        <p>{meetingname}</p>\n      </div>\n    </Fragment>\n  );\n\n  return (\n    <div className={styles.ProductivityStats}>\n      <div className={styles.title}>\n        <DashboardElementHeader title=\"Meeting productivity\" info=\"high\" />\n      </div>\n\n      <div className={styles.main}>\n        <div className={styles.indexStat}>\n          <IndexGraph index={index} />\n          <p>Meeting Productivity Index</p>\n        </div>\n      </div>\n\n      <div className={styles.info}>\n        <div className={styles.iconStat} id=\"meeting-type\">\n          {currentState === \"quiet\" &&\n            stateActive(\"No meeting active\", iconMeetingInactive)}\n          {currentState === \"started\" &&\n            stateActive(\"Meeting started\", iconMeetingFormal)}\n          {currentState === \"normal\" &&\n            stateActive(\"Formal Meeting\", iconMeetingFormal)}\n          {currentState === \"active\" &&\n            stateActive(\"Engaged Meeting\", iconMeetingEngaged)}\n        </div>\n      </div>\n      <div className={styles.trends}>\n        <DashboardElementHeader title=\"Productivity trends\" />\n        <ActivityGraph score={activityIndex} globalTrend={true} />\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport styles from \"./TimeSchedule.module.scss\";\n\nexport default function() {\n  const [time, setTime] = useState(150);\n\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setTime(prev => (prev = prev <= 0 ? 0 : prev - 1));\n    }, 1000);\n\n    return () => {\n      clearInterval(timer);\n    };\n  }, []);\n\n  var minutes = \"0\" + Math.floor(time / 60);\n  let seconds = time - minutes * 60;\n  seconds = seconds < 10 ? \"0\" + seconds : seconds;\n\n  const percentage = (100 / 150) * (150 - time);\n\n  const spentTime = 150 - time;\n  var minutesSpent = \"0\" + Math.floor(spentTime / 60);\n  var secondsSpent = spentTime - minutesSpent * 60;\n  secondsSpent = secondsSpent < 10 ? \"0\" + secondsSpent : secondsSpent;\n\n  return (\n    <div className={styles.TimeSchedule}>\n      <h1>\n        {minutes}:{seconds}\n      </h1>\n\n      <div className={styles.timeline}>\n        <div className={styles.startendlabels}>\n          <div className={styles.label}>\n            <p>START</p>\n            <p className={styles.timestamp}>00:00</p>\n          </div>\n          <div className={styles.label}>\n            <p>END</p>\n            <p className={styles.timestamp}>02:30</p>\n          </div>\n        </div>\n        <div className={styles.progressBar}>\n          <div\n            className={styles.progress}\n            style={{ width: percentage + \"%\" }}\n          />\n          <div\n            className={styles.label}\n            style={{ left: \"calc(\" + percentage + \"% - 20px)\" }}\n          >\n            <p className={styles.timestamp}>\n              {minutesSpent}:{secondsSpent}\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React, { useRef, useState, useEffect } from \"react\";\n\nimport MotionDetector from \"./components/MotionDetector/MotionDetector\";\nimport ActivityGraph from \"./components/ActivityGraph/ActivityGraph\";\nimport ActivityLog from \"./components/ActivityLog/ActivityLog\";\nimport ProductivityStats from \"./components/ProductivityStats/ProductivityStats\";\nimport TimeSchedule from \"./components/TimeSchedule/TimeSchedule\";\nimport DashboardElementHeader from \"./components/DashboardElementHeader/DashboardElementHeader\";\nimport styles from \"./App.module.scss\";\n\nfunction get(name) {\n  if (\n    (name = new RegExp(\"[?&]\" + encodeURIComponent(name) + \"=([^&]*)\").exec(\n      window.location.search\n    ))\n  )\n    return decodeURIComponent(name[1]);\n}\nexport default function() {\n  const video = useRef(undefined);\n  const [currentState, setCurrentState] = useState(\"quiet\");\n  const [score, setScore] = useState(0);\n  const [scoreLog, setScoreLog] = useState([]);\n  const [messages, setMessages] = useState([]);\n  const [activityIndex, setActivityIndex] = useState(0);\n\n  const brain_api = get(\"AI_URL\") || \"192.168.2.2\";\n\n  // connect the webcam with the video element\n  useEffect(() => {\n    var constraints = {\n      audio: false,\n      video: { width: 640, height: 480 }\n    };\n    navigator.mediaDevices\n      .getUserMedia(constraints)\n      .then(success => {\n        video.current.srcObject = success;\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }, [video.current]);\n\n  // analyze and summeraize the score\n  useEffect(() => {\n    // set the score\n    setScoreLog(prev => {\n      // make sure only the last 100 are saved\n      if (prev.length === 100) {\n        prev.shift();\n      }\n      // add latest\n      prev.push(score);\n      return prev;\n    });\n\n    // analyze Entries\n    const overallScore = scoreLog.reduce((pv, cv) => pv + cv, 0);\n\n    if (overallScore > 2000 && overallScore <= 4000) {\n      if (currentState === \"quiet\") {\n        setCurrentState(\"started\");\n        setMessages(prev => [\"Meeting started\", ...prev]);\n\n        fetch(`http://${brain_api}:5000/blinds/meeting/start`)\n          .then(() => {})\n          .catch(error => {\n            console.log(error);\n          });\n      }\n    }\n\n    if (overallScore > 4000 && overallScore <= 7000) {\n      if (currentState === \"started\") {\n        setCurrentState(\"normal\");\n        setMessages(prev => [\"Meeting turned formal\", ...prev]);\n\n        fetch(`http://${brain_api}:5000/blinds/meeting/formal`)\n          .then(() => {})\n          .catch(error => {\n            console.error(error);\n          });\n      }\n    }\n    if (overallScore > 15000) {\n      if (currentState === \"normal\") {\n        setCurrentState(\"active\");\n        setMessages(prev => [\"Meeting turned engaged\", ...prev]);\n\n        fetch(`http://${brain_api}:5000/blinds/meeting/end`)\n          .then(() => {})\n          .catch(error => {\n            console.error(error);\n          });\n      }\n    }\n    // activity index steps\n    if (overallScore <= 50000) {\n      setActivityIndex(parseFloat(overallScore / 6000).toFixed(2));\n    }\n    if (overallScore > 50000) {\n      setActivityIndex(parseFloat(8 + Math.random()).toFixed(2));\n    }\n  }, [score]);\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.motioncharts}>\n        <DashboardElementHeader title=\"Motion charts\" info={score} />\n        <ActivityGraph score={score} globalTrend={false} />\n      </div>\n\n      <div className={styles.videostream}>\n        <DashboardElementHeader title=\"Video stream\" info=\"live\" />\n        <div className={styles.videoContainer}>\n          <video ref={video} autoPlay />\n        </div>\n      </div>\n\n      <div className={styles.motionstream}>\n        <DashboardElementHeader title=\"Motion detection\" info=\"live\" />\n        <MotionDetector setScore={setScore} video={video} />\n      </div>\n\n      <div className={styles.productivity}>\n        <ProductivityStats\n          index={activityIndex}\n          currentState={currentState}\n          activityIndex={activityIndex}\n        />\n      </div>\n      <div className={styles.timeschedule}>\n        <h2>Timeschedule</h2>\n        <TimeSchedule />\n      </div>\n\n      <div className={styles.activitylog}>\n        <DashboardElementHeader title=\"Activity log\" />\n        <ActivityLog messages={messages} />\n      </div>\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MotionDetector_container__2F9SI\",\"hide\":\"MotionDetector_hide__GdL7B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"IndexGraph\":\"IndexGraph_IndexGraph__2DGG8\",\"label\":\"IndexGraph_label__glnsD\"};","module.exports = __webpack_public_path__ + \"static/media/icon-meeting-formal.f2b175bc.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TimeSchedule\":\"TimeSchedule_TimeSchedule__1DXKu\",\"timestamp\":\"TimeSchedule_timestamp__3X5_P\",\"startendlabels\":\"TimeSchedule_startendlabels__3PWbv\",\"label\":\"TimeSchedule_label__2ukr0\",\"progressBar\":\"TimeSchedule_progressBar__2cv-Y\",\"progress\":\"TimeSchedule_progress__1khRs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ActivityLog\":\"ActivityLog_ActivityLog__3ZVNl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"focus\":\"DashboardElementHeader_focus__2D8ly\"};","module.exports = __webpack_public_path__ + \"static/media/icon-meeting-engaged.abc2e609.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-meeting-inactive.0af465dc.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProductivityStats\":\"ProductivityStats_ProductivityStats__16iDs\",\"main\":\"ProductivityStats_main__2ZeZw\",\"title\":\"ProductivityStats_title__2_T6r\",\"info\":\"ProductivityStats_info__Q84MU\",\"trends\":\"ProductivityStats_trends__3WvA-\",\"indexStat\":\"ProductivityStats_indexStat__249id\",\"iconStat\":\"ProductivityStats_iconStat__1rj_E\"};"],"sourceRoot":""}