{"version":3,"sources":["components/ProductivityStats/ProductivityStats.module.scss","components/MotionDetector/MotionDetector.js","components/MotionDetector/helper.js","components/ActivityGraph/ActivityGraph.js","components/ActivityLog/ActivityLog.js","components/DashboardElementHeader/DashboardElementHeader.js","components/ProductivityStats/IndexGraph/IndexGraph.js","components/ProductivityStats/ProductivityStats.js","components/TimeSchedule/TimeSchedule.js","serviceWorker.js","index.js","App.js","components/MotionDetector/MotionDetector.module.scss","components/ProductivityStats/IndexGraph/IndexGraph.module.scss","components/TimeSchedule/TimeSchedule.module.scss","components/DashboardElementHeader/DashboardElementHeader.module.scss","assets/svg/icon-meeting-engaged.svg","assets/svg/icon-meeting-formal.svg","assets/svg/icon-meeting-inactive.svg","App.module.scss"],"names":["module","exports","ProductivityStats","main","title","info","trends","indexStat","iconStat","MotionDetector","_ref","defaultWidth","defaultHeight","_ref$calcWidth","calcWidth","_ref$calcHeight","calcHeight","video","setScore","canvas","useRef","canvasMotion","useEffect","current","width","height","context","getContext","contextMotion","id","setInterval","globalCompositeOperation","drawImage","image","getImageData","ready","diffScore","rgba","data","score","i","length","pixelDiff","normalized","Math","min","processDiff","putImageData","clearInterval","react_default","a","createElement","className","styles","container","ref","hide","defaults","global","animation","ActivityGraph","_useState","useState","labels","datasets","label","borderColor","backgroundColor","_useState2","Object","slicedToArray","setData","prev","n","Date","getSeconds","shift","forEach","dataset","push","es","redraw","options","legend","display","tooltips","enabled","scales","scaleLabel","fontColor","yAxes","xAxes","ticks","maxTicksLimit","elements","point","radius","ActivityLog","messages","map","message","time","text","DashboardElementHeader","_ref$info","undefined","focus","defaultFontColor","IndexGraph","index","indexPercentage","parseFloat","rotation","PI","circumference","cutoutPercentage","console","log","currentState","stateActive","meetingname","icon","react","src","side","iconMeetingInactive","iconMeetingFormal","iconMeetingEngaged","TimeSchedule","setTime","timer","minutes","floor","seconds","time_spent","time_percentage","minutes_spent","seconds_spent","timeline","startendlabels","timestamp","progressBar","progress","style","left","Boolean","window","location","hostname","match","ReactDOM","render","setCurrentState","_useState3","_useState4","_useState5","_useState6","scoreLog","setScoreLog","_useState7","_useState8","_useState9","_useState10","activityIndex","setActivityIndex","navigator","mediaDevices","getUserMedia","audio","then","success","srcObject","catch","error","overallScore","reduce","pv","cv","random","toFixed","BrowserRouter","motioncharts","videostream","autoPlay","motionstream","productivity","participants","timeschedule","activitylog","document","getElementById","serviceWorker","registration","unregister","__webpack_require__","p"],"mappings":"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","file":"static/js/main.c4f021cf.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProductivityStats\":\"ProductivityStats_ProductivityStats__Ye-LT\",\"main\":\"ProductivityStats_main__2NN6S\",\"title\":\"ProductivityStats_title__2fSAb\",\"info\":\"ProductivityStats_info__2cTFM\",\"trends\":\"ProductivityStats_trends__34bKc\",\"indexStat\":\"ProductivityStats_indexStat__3fBKs\",\"iconStat\":\"ProductivityStats_iconStat__3Za8e\"};","import React, { useEffect, useRef } from \"react\";\nimport styles from \"./MotionDetector.module.scss\";\nimport { processDiff } from \"./helper.js\";\n\nexport default function({\n  defaultWidth = 640,\n  defaultHeight = 480,\n  calcWidth = 64,\n  calcHeight = 48,\n  video,\n  setScore\n}) {\n  const canvas = useRef(null);\n  const canvasMotion = useRef(null);\n\n  useEffect(() => {\n    if (!canvas.current) {\n      return false;\n    }\n    canvas.current.width = calcWidth;\n    canvas.current.height = calcHeight;\n    canvasMotion.current.width = calcWidth;\n    canvasMotion.current.height = calcHeight;\n\n    const context = canvas.current.getContext(\"2d\");\n    const contextMotion = canvasMotion.current.getContext(\"2d\");\n\n    const id = setInterval(() => {\n      context.globalCompositeOperation = \"difference\";\n      context.drawImage(video.current, 0, 0, calcWidth, calcHeight);\n      const image = context.getImageData(0, 0, calcWidth, calcHeight);\n\n      if (canvas.current.ready === true) {\n        const diffScore = processDiff(image);\n        setScore(diffScore);\n        contextMotion.putImageData(image, 0, 0);\n      }\n      context.globalCompositeOperation = \"source-over\";\n      context.drawImage(video.current, 0, 0, calcWidth, calcHeight);\n      canvas.current.ready = true;\n    }, 100);\n\n    return () => {\n      clearInterval(id);\n    };\n  }, []);\n\n  return (\n    <div className={styles.container}>\n      <canvas ref={canvasMotion} />\n      <canvas className={styles.hide} ref={canvas} />\n    </div>\n  );\n}\n","export function processDiff(image) {\n  var rgba = image.data;\n\n  // pixel adjustments are done by reference directly on diffImageData\n  var score = 0;\n  for (var i = 0; i < rgba.length; i += 4) {\n    var pixelDiff = rgba[i] * 0.3 + rgba[i + 1] * 0.6 + rgba[i + 2] * 0.1;\n    var normalized = Math.min(255, pixelDiff * (255 / 32));\n    rgba[i] = 0;\n    rgba[i + 1] = normalized;\n    rgba[i + 2] = 0;\n\n    if (pixelDiff >= 32) {\n      score++;\n    }\n  }\n\n  return score;\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Line, defaults } from \"react-chartjs-2\";\n\n// Disable animating charts by default.\ndefaults.global.animation = false;\n\nexport default function({ score }) {\n  const options = {\n    animation: false,\n    legend: {\n        display: false\n    },\n    tooltips: {\n        enabled: false\n    },\n    scales:{\n      scaleLabel: [{\n        fontColor: '#8DD4FF',\n      }],\n      yAxes: [{\n          display: false //this will remove all the x-axis grid lines\n      }],\n      xAxes: [{\n        ticks: { \n          maxTicksLimit: 6,\n         }\n      }],\n    },\n    elements: { point: { radius: 0 } },\n}\n  const [data, setData] = useState({\n    labels: [],\n    datasets: [{ data: [], \n      label: \"Activity Monitor\",\n      borderColor : '#8DD4FF',\n      backgroundColor: [\n      \"rgba(18, 47, 65, .8)\"\n      ], }],\n    \n  });\n\n  useEffect(() => {\n    setData(prev => {\n      const d = new Date();\n      const n = d.getSeconds();\n\n      if (prev.labels.length === 60) {\n        // remove\n        prev.labels.shift();\n        prev.datasets.forEach(dataset => {\n          dataset.data.shift();\n        });\n      }\n\n      // add\n      prev.labels.push(n);\n      prev.datasets.forEach(dataset => {\n        dataset.data.push(score);\n      });\n      return prev;\n    });\n  }, [score]);\n\n  return <Line data={data} redraw={true} options={options}/>;\n}\n","import React from \"react\";\n\nexport default function({ messages }) {\n  if (messages.length === 0) {\n    return <p>No Entries yet.</p>;\n  }\n\n  return (\n    <ul>\n      {messages.map(message => (\n        <li>\n          <span>{message.time}</span> {message.text}\n        </li>\n      ))}\n    </ul>\n  );\n}\n","import React from \"react\";\nimport styles from \"./DashboardElementHeader.module.scss\";\n\nexport default function({title,info = undefined}) {\n  return (\n    <div>\n        <h2>{title} {info !== undefined ? <span className={styles.focus}>{info}</span> : \"\"}</h2>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport styles from \"./IndexGraph.module.scss\";\nimport { Doughnut, defaults } from \"react-chartjs-2\";\n\ndefaults.global.defaultFontColor='#3F93C6';\nexport default function({index}) {\n    var indexPercentage = parseFloat(index) * 10;\n    \n    const options = {\n        animation: false,\n        legend: {\n            display: false\n         },\n         tooltips: {\n            enabled: false\n         },\n        rotation: -1.1 * Math.PI,\n        circumference: Math.PI * 1.2,\n        cutoutPercentage: 80,\n    }\n    \n    const [data, setData] = useState({\n        datasets: [{\n            data: [\n                0,100\n            ],\n            borderColor : 'transparent',\n            backgroundColor: [\n            \"#8DD4FF\",\n            \"#122F41\",\n            ],\n            label: 'Dataset 1'\n        }],\n        labels: [\n            'Red',\n            'Orange',\n            'Yellow',\n            'Green',\n            'Blue'\n        ]\n    });\n\n    useEffect(()=>{\n        console.log(indexPercentage);\n        setData(prev => {\n            prev.datasets[0].data = [indexPercentage, 100-indexPercentage];\n            return prev;\n        });\n    }, [index]);\n\n    return (\n        <div className={styles.IndexGraph}>\n            <Doughnut data={data} options={options}  redraw={true} />\n            <div className={styles.label}>{index}</div>\n        </div>\n    );\n}\n","import React, {Fragment} from \"react\";\nimport styles from \"./ProductivityStats.module.scss\";\nimport DashboardElementHeader from \"../DashboardElementHeader/DashboardElementHeader\";\nimport IndexGraph from \"./IndexGraph/IndexGraph\";\nimport iconMeetingEngaged from '../../assets/svg/icon-meeting-engaged.svg';\nimport iconMeetingFormal from '../../assets/svg/icon-meeting-formal.svg';\nimport iconMeetingInactive from '../../assets/svg/icon-meeting-inactive.svg';\n\n\nexport default function({index, currentState}) {\n\n\n  const stateActive = (meetingname, icon) => (\n    <Fragment>\n      <img src={icon}/>\n      <div className={styles.label}>\n      <h4>Current Meeting Type:</h4>\n      <p>{meetingname}</p>\n      </div>\n    </Fragment>\n  );\n\n  return (\n    <div className={styles.ProductivityStats}>\n\n        <div className={styles.title}>\n          <DashboardElementHeader title=\"Meeting productivity\" info=\"high\"/>\n        </div>\n\n        <div className={styles.main}>\n          <div className={styles.indexStat}>\n            <IndexGraph index={index}/>\n            <p>Meeting Productivity Index</p>\n          </div>\n\n        </div>\n\n        <div className={styles.side}>\n          <div className={styles.iconStat} id=\"meeting-type\">\n            {currentState === \"quiet\" && stateActive(\"No meeting active\", iconMeetingInactive)}\n            {currentState === \"normal\" && stateActive(\"Formal Meeting\", iconMeetingFormal)}\n            {currentState === \"active\" && stateActive(\"Engaged Meeting\", iconMeetingEngaged)}\n          </div>\n          <DashboardElementHeader title=\"Trends\"/>\n        </div>\n        \n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport styles from \"./TimeSchedule.module.scss\";\n\nexport default function() {\n  const [time, setTime] = useState(150);\n\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setTime(prev => prev = prev <= 0 ? 0 :prev - 1);\n    }, 1000);\n\n    return () => {\n      clearInterval(timer);\n    };\n  }, []);\n\n  var minutes = \"0\" + Math.floor(time / 60);\n  var seconds = time - minutes * 60;\n  seconds = seconds < 10 ? '0' + seconds : seconds;\n  var time_spent = 150 - time;\n  var time_percentage = ( time_spent * time ) / 150;\n\n  var minutes_spent = \"0\" + Math.floor(time_spent / 60);\n  var seconds_spent = time_spent - minutes_spent * 60;\n  seconds_spent = seconds_spent < 10 ? '0' + seconds_spent : seconds_spent;\n\n  return (\n    <div className={styles.TimeSchedule}>\n      <h1>{minutes}:{seconds}</h1>\n\n      <div className={styles.timeline}>\n        <div className={styles.startendlabels}>\n          <div className={styles.label}><p>START</p><p className={styles.timestamp}>00:00</p></div>\n          <div className={styles.label}><p>END</p><p className={styles.timestamp}>03:00</p></div>\n        </div>\n        <div className={styles.progressBar}>\n          <div className={styles.progress} style={{width: time_percentage+\"%\"}}></div>\n          <div className={styles.label} style={{left: \"calc(\"+time_percentage+\"% - 20px)\"}}>\n            <p className={styles.timestamp}>{minutes_spent}:{seconds_spent}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React, { useRef, useState, useEffect } from \"react\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nimport MotionDetector from \"./components/MotionDetector/MotionDetector\";\nimport ActivityGraph from \"./components/ActivityGraph/ActivityGraph\";\nimport ActivityLog from \"./components/ActivityLog/ActivityLog\";\nimport ProductivityStats from \"./components/ProductivityStats/ProductivityStats\";\nimport TimeSchedule from \"./components/TimeSchedule/TimeSchedule\";\nimport DashboardElementHeader from \"./components/DashboardElementHeader/DashboardElementHeader\";\nimport styles from \"./App.module.scss\";\n\nexport default function() {\n  const video = useRef(undefined);\n  const [currentState, setCurrentState] = useState(\"quiet\");\n  const [score, setScore] = useState(0);\n  const [scoreLog, setScoreLog] = useState([]);\n  const [messages, setMessages] = useState([]);\n  const [activityIndex, setActivityIndex] = useState(0);\n\n  // connect the webcam with the video element\n  useEffect(() => {\n    var constraints = {\n      audio: false,\n      video: { width: 640, height: 480 }\n    };\n    navigator.mediaDevices\n      .getUserMedia(constraints)\n      .then(success => {\n        video.current.srcObject = success;\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }, [video.current]);\n\n  // analyze and summeraize the score\n  useEffect(() => {\n    // set the score\n    setScoreLog(prev => {\n      // make sure only the last 100 are saved\n      if (prev.length === 100) {\n        prev.shift();\n      }\n      // add latest\n      prev.push(score);\n      return prev;\n    });\n\n    // analyze Entries\n    const overallScore = scoreLog.reduce((pv, cv) => pv + cv, 0);\n\n    // ~2000 quiet\n    // ~5000 normal\n    // ~10000 active\n    if (overallScore <= 4000) {\n      if (currentState !== \"quiet\") {\n        setCurrentState(\"quiet\");\n        setActivityIndex(parseFloat(1 + Math.random()).toFixed(2));\n      }\n    }\n    if (overallScore > 4000 && overallScore <= 7000) {\n      if (currentState !== \"normal\") {\n        setCurrentState(\"normal\");\n        setActivityIndex(parseFloat(5 + Math.random(),).toFixed(2));\n      }\n    }\n    if (overallScore > 20000) {\n      if (currentState !== \"active\") {\n        setCurrentState(\"active\");\n        setActivityIndex(parseFloat(8 + Math.random(),).toFixed(2));\n      }\n    }\n    // activity index steps\n    if (overallScore <= 50000) {\n        setActivityIndex(parseFloat(overallScore/4000).toFixed(2));\n    }\n    if (overallScore > 50000) {\n        setActivityIndex(parseFloat(8 + Math.random(),).toFixed(2));\n    }\n  }, [score]);\n\n  return (\n    <Router>\n      <div className={styles.container}>\n        <div className={styles.motioncharts}>\n        <DashboardElementHeader title=\"Motion charts\" info={score}/>\n          <ActivityGraph score={score} />\n        </div>\n\n        <div className={styles.videostream}>\n          <DashboardElementHeader title=\"Video stream\" info=\"live\" />\n          <video ref={video} autoPlay />\n        </div>\n\n        <div className={styles.motionstream}>\n          <DashboardElementHeader title=\"Motion detection\" info=\"live\"/>\n          <MotionDetector setScore={setScore} video={video} />\n        </div>\n\n        <div className={styles.productivity}>\n          <ProductivityStats index={activityIndex} currentState={currentState}/>\n        </div>\n\n        <div className={styles.participants}>\n          <h2>\n            Participants<span className={styles.focus}>6</span>\n          </h2>\n          {currentState === \"quiet\" && <p>Currently no Meeting</p>}\n          {currentState === \"normal\" && <p>Formal Meeting</p>}\n          {currentState === \"active\" && <p>Engaged Meeting</p>}\n        </div>\n\n        <div className={styles.timeschedule}>\n          <h2>Timeschedule</h2>\n          <TimeSchedule />\n        </div>\n\n        <div className={styles.activitylog}>\n        <DashboardElementHeader title=\"Activity log\" info=\"12:43\"/>\n        <ActivityLog messages={messages} />\n        \n        </div>\n      </div>\n    </Router>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MotionDetector_container__133Vd\",\"hide\":\"MotionDetector_hide__Gg9XI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"IndexGraph\":\"IndexGraph_IndexGraph__2vITM\",\"label\":\"IndexGraph_label__2grAz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TimeSchedule\":\"TimeSchedule_TimeSchedule__vKgSH\",\"timestamp\":\"TimeSchedule_timestamp__2ZUbb\",\"startendlabels\":\"TimeSchedule_startendlabels__1ta7Z\",\"label\":\"TimeSchedule_label__1Acbo\",\"progressBar\":\"TimeSchedule_progressBar__Ef7RH\",\"progress\":\"TimeSchedule_progress__1kFrz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"focus\":\"DashboardElementHeader_focus__2cDMr\"};","module.exports = __webpack_public_path__ + \"static/media/icon-meeting-engaged.abc2e609.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-meeting-formal.f2b175bc.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-meeting-inactive.0af465dc.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__3TEbk\",\"motioncharts\":\"App_motioncharts__36T3b\",\"videostream\":\"App_videostream__2IPJu\",\"motionstream\":\"App_motionstream__2BpYb\",\"productivity\":\"App_productivity__EYFql\",\"participants\":\"App_participants__6kwK7\",\"timeschedule\":\"App_timeschedule__3JB8w\",\"activitylog\":\"App_activitylog__2ru1C\"};"],"sourceRoot":""}